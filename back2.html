<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Example Backbone Whisky APP</title>
    <script src="LIB/json2.js"></script> 
    <script src="http://underscorejs.org/underscore.js"></script>  
    <script src="http://code.jquery.com/jquery.js"></script>  
    <script src="http://backbonejs.org/backbone.js"></script>  
    <script type = "text/template" id="listing">
      <li><%= value %></li>
    </script>
  </head>
  <body>
    
    <script>

      Whisky = Backbone.Model.extend();
        firstWhisky = new Whisky({
        name : 'Blenders Pride'
      });
      Whiskies = Backbone.Collection.extend({
        Model:Whisky ,
        url:"#"
      });
      whiskies = new Whiskies([
        {name:"Royal Stag"}, 
        {name:"Signature"}  
          
      ]);
      whiskies.on('add',function(model) { 
        console.log('New model with name:' + model.get("name") + 'added' );
      });
      whiskies.add(firstWhisky);
        
      whiskies.each( function(model) {
        console.log(model.get('name'));
      });
      first_view = Backbone.View.extend({
        el : 'body',
        initialize : function() { 
          this.$el.empty();
          this.render();
        } , 


        render : function() { 
          this.$el.append("<h1>The Whisky APP</h1>");
          this.list_view = new List_view();
          this.$el.append(this.list_view.render().el);
          return this ; 
        }
      });
      List_view = Backbone.View.extend({ 
        tagName : 'ul' , 
        initialize : function() { 
          this.template = _.template($('#listing').html());
        } , 
        render : function() {
          
          this.$el.append(this.template({value: "Royal Stag"}));
          return this ; 
        }
      });
      index_view = new first_view();    
    </script>
  </body>
</html>
